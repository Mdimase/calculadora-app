<app-header [title]="'Estimacion'">
  <ion-icon name="help-circle-sharp" slot="end" class="icon-help" (click)="showPopover($event)"></ion-icon>
</app-header>


<ion-header collapse="condense">
  <ion-toolbar>
    <ion-title size="large">Estimacion</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-list class="ion-align-items-center">
    <form [formGroup]="estimationForm" novalidate (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-icon slot="start" name="business"></ion-icon>
        <ion-label position="floating">Institucion</ion-label>
        <ion-input inputmode="text" formControlName="institution"></ion-input>
        <div class="error-message" *ngFor="let error of errorMessages.institution">
          <ng-container *ngIf="isInvalid('institution',error)">
            <small>{{error.message}}</small>
          </ng-container>
        </div>
      </ion-item>
      <ion-item>
        <ion-icon slot="start" name="library"></ion-icon>
        <ion-label position="floating">Materia</ion-label>
        <ion-input inputmode="text" formControlName="subject"></ion-input>
        <div class="error-message" *ngFor="let error of errorMessages.subject">
          <ng-container *ngIf="isInvalid('subject',error)">
            <small>{{error.message}}</small>
          </ng-container>
        </div>
      </ion-item>

      <ion-item>
        <ion-select placeholder="Seleccionar Actividades" formControlName="activities" [multiple]="true" cancelText="Cancelar"
          okText="Confirmar" [interfaceOptions]="customAlert">
          <ion-select-option *ngFor="let activity of activities" [value]="activity">{{ activity.name + " (" +activity.time +
            " min)"}}</ion-select-option>
        </ion-select>
      </ion-item>
      
      <ion-button expand="block" shape="round" class="ion-margin-horizontal" [disabled]="estimationForm.invalid"
        type="submit">Enviar</ion-button>
    </form>
  </ion-list>

</ion-content>